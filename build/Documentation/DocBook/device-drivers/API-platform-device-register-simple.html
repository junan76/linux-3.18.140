<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>platform_device_register_simple</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Linux Device Drivers"><link rel="up" href="ch02s02.html" title="Device Drivers Base"><link rel="prev" href="API-platform-device-register-resndata.html" title="platform_device_register_resndata"><link rel="next" href="API-platform-device-register-data.html" title="platform_device_register_data"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">platform_device_register_simple</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-platform-device-register-resndata.html">Prev</a> </td><th width="60%" align="center">Device Drivers Base</th><td width="20%" align="right"> <a accesskey="n" href="API-platform-device-register-data.html">Next</a></td></tr></table><hr></div><div class="refentry"><a name="API-platform-device-register-simple"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>platform_device_register_simple — 
     add a platform-level device and its resources
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">struct platform_device * <b class="fsfunc">platform_device_register_simple </b>(</code></td><td>const char * <var class="pdparam">name</var>, </td></tr><tr><td> </td><td>int <var class="pdparam">id</var>, </td></tr><tr><td> </td><td>const struct resource * <var class="pdparam">res</var>, </td></tr><tr><td> </td><td>unsigned int <var class="pdparam">num</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="idm14447"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>name</code></em></span></dt><dd><p>
     base name of the device we're adding
    </p></dd><dt><span class="term"><em class="parameter"><code>id</code></em></span></dt><dd><p>
     instance id
    </p></dd><dt><span class="term"><em class="parameter"><code>res</code></em></span></dt><dd><p>
     set of resources that needs to be allocated for the device
    </p></dd><dt><span class="term"><em class="parameter"><code>num</code></em></span></dt><dd><p>
     number of resources
    </p></dd></dl></div></div><div class="refsect1"><a name="idm14470"></a><h2>Description</h2><p>
   This function creates a simple platform device that requires minimal
   resource and memory management. Canned release function freeing memory
   allocated for the device allows drivers using such devices to be
   unloaded without waiting for the last reference to the device to be
   dropped.
   </p><p>

   This interface is primarily intended for use with legacy drivers which
   probe hardware directly.  Because such drivers create sysfs device nodes
   themselves, rather than letting system infrastructure handle such device
   enumeration tasks, they don't fully conform to the Linux driver model.
   In particular, when such drivers are built as modules, they can't be
   <span class="quote">“<span class="quote">hotplugged</span>”</span>.
   </p><p>

   Returns <span class="structname">struct platform_device</span> pointer on success, or <code class="function">ERR_PTR</code> on error.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-platform-device-register-resndata.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02s02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-platform-device-register-data.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">platform_device_register_resndata</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">platform_device_register_data</span></td></tr></table></div></body></html>
