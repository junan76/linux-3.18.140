<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>platform_device_register_data</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Linux Device Drivers"><link rel="up" href="ch02s02.html" title="Device Drivers Base"><link rel="prev" href="API-platform-device-register-simple.html" title="platform_device_register_simple"><link rel="next" href="API-platform-get-resource.html" title="platform_get_resource"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">platform_device_register_data</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-platform-device-register-simple.html">Prev</a> </td><th width="60%" align="center">Device Drivers Base</th><td width="20%" align="right"> <a accesskey="n" href="API-platform-get-resource.html">Next</a></td></tr></table><hr></div><div class="refentry"><a name="API-platform-device-register-data"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>platform_device_register_data — 
     add a platform-level device with platform-specific data
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">struct platform_device * <b class="fsfunc">platform_device_register_data </b>(</code></td><td>struct device * <var class="pdparam">parent</var>, </td></tr><tr><td> </td><td>const char * <var class="pdparam">name</var>, </td></tr><tr><td> </td><td>int <var class="pdparam">id</var>, </td></tr><tr><td> </td><td>const void * <var class="pdparam">data</var>, </td></tr><tr><td> </td><td>size_t <var class="pdparam">size</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="idm14507"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>parent</code></em></span></dt><dd><p>
     parent device for the device we're adding
    </p></dd><dt><span class="term"><em class="parameter"><code>name</code></em></span></dt><dd><p>
     base name of the device we're adding
    </p></dd><dt><span class="term"><em class="parameter"><code>id</code></em></span></dt><dd><p>
     instance id
    </p></dd><dt><span class="term"><em class="parameter"><code>data</code></em></span></dt><dd><p>
     platform specific data for this platform device
    </p></dd><dt><span class="term"><em class="parameter"><code>size</code></em></span></dt><dd><p>
     size of platform specific data
    </p></dd></dl></div></div><div class="refsect1"><a name="idm14535"></a><h2>Description</h2><p>
   This function creates a simple platform device that requires minimal
   resource and memory management. Canned release function freeing memory
   allocated for the device allows drivers using such devices to be
   unloaded without waiting for the last reference to the device to be
   dropped.
   </p><p>

   Returns <span class="structname">struct platform_device</span> pointer on success, or <code class="function">ERR_PTR</code> on error.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-platform-device-register-simple.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02s02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-platform-get-resource.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">platform_device_register_simple</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">platform_get_resource</span></td></tr></table></div></body></html>
