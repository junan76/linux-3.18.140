<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>struct net_device</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Linux Networking and Network Devices APIs"><link rel="up" href="netdev.html#idm11836" title="Driver Support"><link rel="prev" href="API-enum-netdev-priv-flags.html" title="enum netdev_priv_flags"><link rel="next" href="API-netdev-priv.html" title="netdev_priv"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">struct net_device</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-enum-netdev-priv-flags.html">Prev</a> </td><th width="60%" align="center">Driver Support</th><td width="20%" align="right"> <a accesskey="n" href="API-netdev-priv.html">Next</a></td></tr></table><hr></div><div class="refentry"><a name="API-struct-net-device"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>struct net_device — 
     The DEVICE structure. Actually, this whole structure is a big mistake. It mixes I/O data with strictly <span class="quote">“<span class="quote">high-level</span>”</span> data, and it has to know about almost every data structure used in the INET module.
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="programlisting">
struct net_device {
  char name[IFNAMSIZ];
  struct hlist_node name_hlist;
  char * ifalias;
  unsigned long mem_end;
  unsigned long mem_start;
  unsigned long base_addr;
  int irq;
  unsigned long state;
  struct list_head dev_list;
  struct list_head napi_list;
  struct list_head unreg_list;
  struct list_head close_list;
  struct {unnamed_struct};
  struct garp_port __rcu * garp_port;
  struct mrp_port __rcu * mrp_port;
  struct device dev;
  const struct attribute_group * sysfs_groups[4];
  const struct attribute_group * sysfs_rx_queue_group;
  const struct rtnl_link_ops * rtnl_link_ops;
#define GSO_MAX_SIZE		65536
  unsigned int gso_max_size;
#define GSO_MAX_SEGS		65535
  u16 gso_max_segs;
  u16 gso_min_segs;
#ifdef CONFIG_DCB
  const struct dcbnl_rtnl_ops * dcbnl_ops;
#endif
  u8 num_tc;
  struct netdev_tc_txq tc_to_txq[TC_MAX_QUEUE];
  u8 prio_tc_map[TC_BITMASK + 1];
#if IS_ENABLED(CONFIG_FCOE)
  unsigned int fcoe_ddp_xid;
#endif
#if IS_ENABLED(CONFIG_CGROUP_NET_PRIO)
  struct netprio_map __rcu * priomap;
#endif
  struct phy_device * phydev;
  struct lock_class_key * qdisc_tx_busylock;
  int group;
  struct pm_qos_request pm_qos_req;
};  </pre></div><div class="refsect1"><a name="idm16249"></a><h2>Members</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">name[IFNAMSIZ]</span></dt><dd><p>
   This is the first field of the <span class="quote">“<span class="quote">visible</span>”</span> part of this structure
   (i.e. as seen by users in the <span class="quote">“<span class="quote">Space.c</span>”</span> file).  It is the name
   of the interface.
      </p></dd><dt><span class="term">name_hlist</span></dt><dd><p>
   Device name hash chain, please keep it close to name[]
      </p></dd><dt><span class="term">ifalias</span></dt><dd><p>
   SNMP alias
      </p></dd><dt><span class="term">mem_end</span></dt><dd><p>
   Shared memory end
      </p></dd><dt><span class="term">mem_start</span></dt><dd><p>
   Shared memory start
      </p></dd><dt><span class="term">base_addr</span></dt><dd><p>
   Device I/O address
      </p></dd><dt><span class="term">irq</span></dt><dd><p>
   Device IRQ number
      </p></dd><dt><span class="term">state</span></dt><dd><p>
   Generic network queuing layer state, see netdev_state_t
      </p></dd><dt><span class="term">dev_list</span></dt><dd><p>
   The global list of network devices
      </p></dd><dt><span class="term">napi_list</span></dt><dd><p>
   List entry, that is used for polling napi devices
      </p></dd><dt><span class="term">unreg_list</span></dt><dd><p>
   List entry, that is used, when we are unregistering the
   device, see the function unregister_netdev
      </p></dd><dt><span class="term">close_list</span></dt><dd><p>
   List entry, that is used, when we are closing the device
      </p></dd><dt><span class="term">{unnamed_struct}</span></dt><dd><p>
   anonymous
      </p></dd><dt><span class="term">garp_port</span></dt><dd><p>
   GARP
      </p></dd><dt><span class="term">mrp_port</span></dt><dd><p>
   MRP
      </p></dd><dt><span class="term">dev</span></dt><dd><p>
   Class/net/name entry
      </p></dd><dt><span class="term">sysfs_groups[4]</span></dt><dd><p>
   Space for optional device, statistics and wireless
   sysfs groups
      </p></dd><dt><span class="term">sysfs_rx_queue_group</span></dt><dd><p>
   Space for optional per-rx queue attributes
      </p></dd><dt><span class="term">rtnl_link_ops</span></dt><dd><p>
   Rtnl_link_ops
      </p></dd><dt><span class="term">gso_max_size</span></dt><dd><p>
   Maximum size of generic segmentation offload
      </p></dd><dt><span class="term">gso_max_segs</span></dt><dd><p>
   Maximum number of segments that can be passed to the
   NIC for GSO
      </p></dd><dt><span class="term">gso_min_segs</span></dt><dd><p>
   Minimum number of segments that can be passed to the
   NIC for GSO
      </p></dd><dt><span class="term">dcbnl_ops</span></dt><dd><p>
   Data Center Bridging netlink ops
      </p></dd><dt><span class="term">num_tc</span></dt><dd><p>
   Number of traffic classes in the net device
      </p></dd><dt><span class="term">tc_to_txq[TC_MAX_QUEUE]</span></dt><dd><p>
   XXX: need comments on this one
      </p></dd><dt><span class="term">prio_tc_map[TC_BITMASK + 1]</span></dt><dd><p>
   need comments on this one
      </p></dd><dt><span class="term">fcoe_ddp_xid</span></dt><dd><p>
   Max exchange id for FCoE LRO by ddp
      </p></dd><dt><span class="term">priomap</span></dt><dd><p>
   XXX: need comments on this one
      </p></dd><dt><span class="term">phydev</span></dt><dd><p>
   Physical device may attach itself
   for hardware timestamping
      </p></dd><dt><span class="term">qdisc_tx_busylock</span></dt><dd><p>
   XXX: need comments on this one
      </p></dd><dt><span class="term">group</span></dt><dd><p>
   The group, that the device belongs to
      </p></dd><dt><span class="term">pm_qos_req</span></dt><dd><p>
   Power Management QoS object
      </p></dd></dl></div></div><div class="refsect1"><a name="idm16382"></a><h2>FIXME</h2><p>
   cleanup struct net_device such that network protocol info
   moves out.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-enum-netdev-priv-flags.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="netdev.html#idm11836">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-netdev-priv.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">enum netdev_priv_flags</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">netdev_priv</span></td></tr></table></div></body></html>
