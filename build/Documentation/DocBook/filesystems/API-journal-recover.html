<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>journal_recover</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Linux Filesystems API"><link rel="up" href="functions.html#journal_level" title="Journal Level"><link rel="prev" href="API-journal-ack-err.html" title="journal_ack_err"><link rel="next" href="API-journal-skip-recovery.html" title="journal_skip_recovery"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">journal_recover</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-journal-ack-err.html">Prev</a> </td><th width="60%" align="center">Journal Level</th><td width="20%" align="right"> <a accesskey="n" href="API-journal-skip-recovery.html">Next</a></td></tr></table><hr></div><div class="refentry"><a name="API-journal-recover"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>journal_recover — 
  recovers a on-disk journal
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <b class="fsfunc">journal_recover </b>(</code></td><td>journal_t * <var class="pdparam">journal</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="idm11170"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>journal</code></em></span></dt><dd><p>
     the journal to recover
    </p></dd></dl></div></div><div class="refsect1"><a name="idm11178"></a><h2>Description</h2><p>
   The primary function for recovering the log contents when mounting a
   journaled device.
   </p><p>

   Recovery is done in three passes.  In the first pass, we look for the
   end of the log.  In the second, we assemble the list of revoke
   blocks.  In the third and final pass, we replay any un-revoked blocks
   in the log.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-journal-ack-err.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="functions.html#journal_level">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-journal-skip-recovery.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">journal_ack_err</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">journal_skip_recovery</span></td></tr></table></div></body></html>
