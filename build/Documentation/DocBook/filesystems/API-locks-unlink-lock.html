<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>locks_unlink_lock</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Linux Filesystems API"><link rel="up" href="file_locks.html" title="File Locks"><link rel="prev" href="API-vfs-cancel-lock.html" title="vfs_cancel_lock"><link rel="next" href="API-locks-mandatory-locked.html" title="locks_mandatory_locked"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">locks_unlink_lock</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-vfs-cancel-lock.html">Prev</a> </td><th width="60%" align="center">File Locks</th><td width="20%" align="right"> <a accesskey="n" href="API-locks-mandatory-locked.html">Next</a></td></tr></table><hr></div><div class="refentry"><a name="API-locks-unlink-lock"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>locks_unlink_lock — 
  Delete a lock and then free it.
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">void <b class="fsfunc">locks_unlink_lock </b>(</code></td><td>struct file_lock ** <var class="pdparam">thisfl_p</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="idm3400"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>thisfl_p</code></em></span></dt><dd><p>
     pointer that points to the fl_next field of the previous
     inode-&gt;i_flock list entry
    </p></dd></dl></div></div><div class="refsect1"><a name="idm3408"></a><h2>Description</h2><p>
   Unlink a lock from all lists and free the namespace reference, but don't
   free it yet. Wake up processes that are blocked waiting for this lock and
   notify the FS that the lock has been cleared.
   </p><p>

   Must be called with the i_lock held!
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-vfs-cancel-lock.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="file_locks.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-locks-mandatory-locked.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">vfs_cancel_lock</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">locks_mandatory_locked</span></td></tr></table></div></body></html>
