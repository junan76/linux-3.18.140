<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>d_obtain_alias</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Linux Filesystems API"><link rel="up" href="the_directory_cache.html" title="The Directory Cache"><link rel="prev" href="API-d-find-any-alias.html" title="d_find_any_alias"><link rel="next" href="API-d-obtain-root.html" title="d_obtain_root"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">d_obtain_alias</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-d-find-any-alias.html">Prev</a> </td><th width="60%" align="center">The Directory Cache</th><td width="20%" align="right"> <a accesskey="n" href="API-d-obtain-root.html">Next</a></td></tr></table><hr></div><div class="refentry"><a name="API-d-obtain-alias"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>d_obtain_alias — 
     find or allocate a DISCONNECTED dentry for a given inode
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">struct dentry * <b class="fsfunc">d_obtain_alias </b>(</code></td><td>struct inode * <var class="pdparam">inode</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="idm631"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>inode</code></em></span></dt><dd><p>
     inode to allocate the dentry for
    </p></dd></dl></div></div><div class="refsect1"><a name="idm639"></a><h2>Description</h2><p>
   Obtain a dentry for an inode resulting from NFS filehandle conversion or
   similar open by handle operations.  The returned dentry may be anonymous,
   or may have a full name (if the inode was already in the cache).
   </p><p>

   When called on a directory inode, we must ensure that the inode only ever
   has one dentry.  If a dentry is found, that is returned instead of
   allocating a new one.
   </p><p>

   On successful return, the reference to the inode has been transferred
   to the dentry.  In case of an error the reference on the inode is released.
   To make it easier to use in export operations a <code class="constant">NULL</code> or IS_ERR inode may
   be passed in and the error will be propagated to the return value,
   with a <code class="constant">NULL</code> <em class="parameter"><code>inode</code></em> replaced by ERR_PTR(-ESTALE).
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-d-find-any-alias.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="the_directory_cache.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-d-obtain-root.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">d_find_any_alias</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">d_obtain_root</span></td></tr></table></div></body></html>
