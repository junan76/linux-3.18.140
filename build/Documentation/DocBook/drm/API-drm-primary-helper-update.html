<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>drm_primary_helper_update</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Linux DRM Developer's Guide"><link rel="up" href="ch02s05.html#idm13779" title="Plane Helper Reference"><link rel="prev" href="API-drm-plane-helper-check-update.html" title="drm_plane_helper_check_update"><link rel="next" href="API-drm-primary-helper-disable.html" title="drm_primary_helper_disable"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">drm_primary_helper_update</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-drm-plane-helper-check-update.html">Prev</a> </td><th width="60%" align="center">Plane Helper Reference</th><td width="20%" align="right"> <a accesskey="n" href="API-drm-primary-helper-disable.html">Next</a></td></tr></table><hr></div><div class="refentry"><a name="API-drm-primary-helper-update"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>drm_primary_helper_update — 
     Helper for primary plane update
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <b class="fsfunc">drm_primary_helper_update </b>(</code></td><td>struct drm_plane * <var class="pdparam">plane</var>, </td></tr><tr><td> </td><td>struct drm_crtc * <var class="pdparam">crtc</var>, </td></tr><tr><td> </td><td>struct drm_framebuffer * <var class="pdparam">fb</var>, </td></tr><tr><td> </td><td>int <var class="pdparam">crtc_x</var>, </td></tr><tr><td> </td><td>int <var class="pdparam">crtc_y</var>, </td></tr><tr><td> </td><td>unsigned int <var class="pdparam">crtc_w</var>, </td></tr><tr><td> </td><td>unsigned int <var class="pdparam">crtc_h</var>, </td></tr><tr><td> </td><td>uint32_t <var class="pdparam">src_x</var>, </td></tr><tr><td> </td><td>uint32_t <var class="pdparam">src_y</var>, </td></tr><tr><td> </td><td>uint32_t <var class="pdparam">src_w</var>, </td></tr><tr><td> </td><td>uint32_t <var class="pdparam">src_h</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="idm13931"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>plane</code></em></span></dt><dd><p>
     plane object to update
    </p></dd><dt><span class="term"><em class="parameter"><code>crtc</code></em></span></dt><dd><p>
     owning CRTC of owning plane
    </p></dd><dt><span class="term"><em class="parameter"><code>fb</code></em></span></dt><dd><p>
     framebuffer to flip onto plane
    </p></dd><dt><span class="term"><em class="parameter"><code>crtc_x</code></em></span></dt><dd><p>
     x offset of primary plane on crtc
    </p></dd><dt><span class="term"><em class="parameter"><code>crtc_y</code></em></span></dt><dd><p>
     y offset of primary plane on crtc
    </p></dd><dt><span class="term"><em class="parameter"><code>crtc_w</code></em></span></dt><dd><p>
     width of primary plane rectangle on crtc
    </p></dd><dt><span class="term"><em class="parameter"><code>crtc_h</code></em></span></dt><dd><p>
     height of primary plane rectangle on crtc
    </p></dd><dt><span class="term"><em class="parameter"><code>src_x</code></em></span></dt><dd><p>
     x offset of <em class="parameter"><code>fb</code></em> for panning
    </p></dd><dt><span class="term"><em class="parameter"><code>src_y</code></em></span></dt><dd><p>
     y offset of <em class="parameter"><code>fb</code></em> for panning
    </p></dd><dt><span class="term"><em class="parameter"><code>src_w</code></em></span></dt><dd><p>
     width of source rectangle in <em class="parameter"><code>fb</code></em>
    </p></dd><dt><span class="term"><em class="parameter"><code>src_h</code></em></span></dt><dd><p>
     height of source rectangle in <em class="parameter"><code>fb</code></em>
    </p></dd></dl></div></div><div class="refsect1"><a name="idm13993"></a><h2>Description</h2><p>
   Provides a default plane update handler for primary planes.  This is handler
   is called in response to a userspace SetPlane operation on the plane with a
   non-NULL framebuffer.  We call the driver's modeset handler to update the
   framebuffer.
   </p><p>

   <code class="function">SetPlane</code> on a primary plane of a disabled CRTC is not supported, and will
   return an error.
   </p><p>

   Note that we make some assumptions about hardware limitations that may not be
   true for all hardware --
   1) Primary plane cannot be repositioned.
   2) Primary plane cannot be scaled.
   3) Primary plane must cover the entire CRTC.
   4) Subpixel positioning is not supported.
   Drivers for hardware that don't have these restrictions can provide their
   own implementation rather than using this helper.
</p></div><div class="refsect1"><a name="idm13999"></a><h2>RETURNS</h2><p>
   Zero on success, error code on failure
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-drm-plane-helper-check-update.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02s05.html#idm13779">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-drm-primary-helper-disable.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">drm_plane_helper_check_update</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">drm_primary_helper_disable</span></td></tr></table></div></body></html>
