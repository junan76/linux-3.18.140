<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>mtrr_add</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="The Linux Kernel API"><link rel="up" href="ch09s04.html" title="MTRR Handling"><link rel="prev" href="ch09s04.html" title="MTRR Handling"><link rel="next" href="API-mtrr-del.html" title="mtrr_del"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">mtrr_add</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch09s04.html">Prev</a> </td><th width="60%" align="center">MTRR Handling</th><td width="20%" align="right"> <a accesskey="n" href="API-mtrr-del.html">Next</a></td></tr></table><hr></div><div class="refentry"><a name="API-mtrr-add"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>mtrr_add — 
  Add a memory type region
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <b class="fsfunc">mtrr_add </b>(</code></td><td>unsigned long <var class="pdparam">base</var>, </td></tr><tr><td> </td><td>unsigned long <var class="pdparam">size</var>, </td></tr><tr><td> </td><td>unsigned int <var class="pdparam">type</var>, </td></tr><tr><td> </td><td>bool <var class="pdparam">increment</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="idm17476"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>base</code></em></span></dt><dd><p>
     Physical base address of region
    </p></dd><dt><span class="term"><em class="parameter"><code>size</code></em></span></dt><dd><p>
     Physical size of region
    </p></dd><dt><span class="term"><em class="parameter"><code>type</code></em></span></dt><dd><p>
     Type of MTRR desired
    </p></dd><dt><span class="term"><em class="parameter"><code>increment</code></em></span></dt><dd><p>
     If this is true do usage counting on the region
    </p></dd></dl></div></div><div class="refsect1"><a name="idm17499"></a><h2>Description</h2><p>
   Memory type region registers control the caching on newer Intel and
   non Intel processors. This function allows drivers to request an
   MTRR is added. The details and hardware specifics of each processor's
   implementation are hidden from the caller, but nevertheless the
   caller should expect to need to provide a power of two size on an
   equivalent power of two boundary.
   </p><p>

   If the region cannot be added either because all regions are in use
   or the CPU cannot support it a negative value is returned. On success
   the register number for this entry is returned, but should be treated
   as a cookie only.
   </p><p>

   On a multiprocessor machine the changes are made to all processors.
   This is required on x86 by the Intel processors.
   </p><p>

   The available types are
   </p><p>

   <code class="constant">MTRR_TYPE_UNCACHABLE</code> - No caching
   </p><p>

   <code class="constant">MTRR_TYPE_WRBACK</code> - Write data back in bursts whenever
   </p><p>

   <code class="constant">MTRR_TYPE_WRCOMB</code> - Write data back soon but allow bursts
   </p><p>

   <code class="constant">MTRR_TYPE_WRTHROUGH</code> - Cache reads but not writes
</p></div><div class="refsect1"><a name="idm17513"></a><h2>BUGS</h2><p>
   Needs a quiet flag for the cases where drivers do not mind
   failures and do not wish system log messages to be sent.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch09s04.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch09s04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-mtrr-del.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">MTRR Handling </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">mtrr_del</span></td></tr></table></div></body></html>
